C51 COMPILER V9.54   MAIN                                                                  11/17/2025 15:49:57 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE User\main.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\Hardware;.\System;.\User) 
                    -DEBUG OBJECTEXTEND PRINT(.\Listings\main.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REG51.H>
   2          #include "Delay.h"
   3          #include "OLED.h"
   4          #include "DS18B20.h"
   5          
   6          extern uint32_t DS18B20_Tempreature;
   7          
   8          sbit LED = P2^5;//LED引脚 低电平点亮
   9          
  10          
  11          uint8_t TMAX=30;//温度限制值
  12          uint8_t HT,LT,MT;//分别对应十位，个位，小数位
  13          
  14          void LED_ON(void)
  15          {
  16   1          LED = 0;
  17   1      }
  18          
  19          void LED_OFF(void)
  20          {
  21   1          LED = 1;
  22   1      }
  23          
  24          
  25          void Start_F(void)//一级界面
  26          {
  27   1          uint8_t i;
  28   1          OLED_ShowString(1,1,"TemperatureAlarm");
  29   1          OLED_ShowString(3,4,"Watting");
  30   1          DS18B20_Get_Tempreature();
  31   1          for(i=0; i<10; i++)
  32   1          {
  33   2              OLED_ShowString(3,11,".  ");
  34   2              OLED_ShowString(3,11," . ");
  35   2              OLED_ShowString(3,11,"  .");
  36   2          }//等待系统运行稳定
  37   1          OLED_Clear();
  38   1      }
  39          
  40          void Start_S(void)//一级界面
  41          {
  42   1          OLED_ShowString(1,1,"TemperatureAlarm");
  43   1          OLED_ShowString(2,4,"Tem:+   . C");
  44   1          OLED_ShowString(3,3,"State:");
  45   1      }
  46          
  47          void DATA_Reflesh(void)
  48          {
  49   1          OLED_ShowNum(2,9,HT,2);
  50   1          OLED_ShowNum(2,11,LT,1);
  51   1          OLED_ShowNum(2,13,MT,1);
  52   1          
  53   1      }
  54          void main()
C51 COMPILER V9.54   MAIN                                                                  11/17/2025 15:49:57 PAGE 2   

  55          {
  56   1          OLED_Init();
  57   1          Start_F();//一级界面
  58   1          Start_S();//二级界面
  59   1          while(1)
  60   1          {
  61   2              DS18B20_Get_Tempreature();
  62   2              HT=DS18B20_Tempreature/100;
  63   2              LT=DS18B20_Tempreature/10%10;
  64   2              MT=DS18B20_Tempreature%10;
  65   2              
  66   2              DATA_Reflesh();
  67   2              
  68   2              if(HT*10+LT>=TMAX)
  69   2              {
  70   3                  LED_ON();
  71   3                  OLED_ShowString(3,9,"Warning");
  72   3              }
  73   2              else 
  74   2              {
  75   3                  LED_OFF();
  76   3                  OLED_ShowString(3,9,"Normal ");
  77   3              }
  78   2          }
  79   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    296    ----
   CONSTANT SIZE    =     72    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
